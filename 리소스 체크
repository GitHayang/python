ë¦¬ì†ŒìŠ¤ ì¸¡ì • 

# ì‹œì‘ë¶€ë¶„
import time
import psutil
import os
import threading

cpu_usages = []
mem_usages = []
cpu_freqs = []
running = True

def monitor(interval=0.2):
    """ì‹¤í–‰ ì¤‘ CPU, ë©”ëª¨ë¦¬, í´ëŸ­ ì†ë„ ê¸°ë¡"""
    global cpu_usages, mem_usages, cpu_freqs, running
    process = psutil.Process(os.getpid())
    while running:
        cpu_usages.append(psutil.cpu_percent(interval=None))
        mem_usages.append(process.memory_info().rss / 1024 ** 2)  # MB
        cpu_freq = psutil.cpu_freq().current  # MHz
        cpu_freqs.append(cpu_freq)
        time.sleep(interval)

# ëª¨ë‹ˆí„°ë§ ìŠ¤ë ˆë“œ ì‹œì‘
monitor_thread = threading.Thread(target=monitor)
monitor_thread.start()

# ğŸŸ¨ ì‹¤í–‰í•  ì‹¤ì œ ì½”ë“œ ë¸”ëŸ­
start_time = time.time()

# ì¢…ë£Œ ë¶€ë¶„

# ğŸŸ¨ ì‹¤í–‰í•  ì½”ë“œ ë¸”ëŸ­ ë
end_time = time.time()
# -----------------------

# ëª¨ë‹ˆí„°ë§ ì¢…ë£Œ
running = False
monitor_thread.join()

# ê²°ê³¼ ìš”ì•½
print(f"ì´ ì‹¤í–‰ ì‹œê°„: {end_time - start_time:.2f}ì´ˆ")

print(f"\n CPU ì‚¬ìš©ë¥  (%)")
print(f"  - í‰ê· : {sum(cpu_usages)/len(cpu_usages):.2f}%")
print(f"  - ìµœëŒ€: {max(cpu_usages):.2f}%, ìµœì†Œ: {min(cpu_usages):.2f}%")

print(f"\n CPU í´ëŸ­ ì†ë„ (MHz)")
print(f"  - í‰ê· : {sum(cpu_freqs)/len(cpu_freqs):.2f} MHz")
print(f"  - ìµœëŒ€: {max(cpu_freqs):.2f}, ìµœì†Œ: {min(cpu_freqs):.2f}")

print(f"\n ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (MB)")
print(f"  - í‰ê· : {sum(mem_usages)/len(mem_usages):.2f}MB")
print(f"  - ìµœëŒ€: {max(mem_usages):.2f}MB")
